<apex:page controller="QuotaAttainmentController">
    <style>
    html, body, p { 
        font-family: "ProximaNovaSoft-Regular", Calibri, 
            "Gill Sans", "Gill Sans MT", Candara, Segoe, 
            "Segoe UI", Arial, sans-serif, "Arial Unicode MS"; 
        font-size: 110%;
    }
    input { font-size: 95%; }
    .graph {
        width:240px; height:200px;
        display: inline-block;
        margin: 1em;
    }
 
	</style>
        <apex:stylesheet value="{!URLFOR($Resource.OneStarter,'icons.css')}"/>
	<apex:stylesheet value="{!URLFOR($Resource.OneStarter,'styles.css')}"/>
	<apex:stylesheet value="{!URLFOR($Resource.OneStarter,'OneStarter.css')}"/>

	<!-- JavaScript files -->
	<apex:includeScript value="{!$Resource.jquery}"/>
	<apex:includeScript value="{!URLFOR($Resource.TouchSwipe,'jquery.touchSwipe.min.js')}"/>
	<apex:includeScript value="{!URLFOR($Resource.OneStarter,'jquery.onestarter.js')}"/>
	<apex:includeScript value="/canvas/sdk/js/publisher.js"/>    
	<!-- Needed for the gauage chart -->
    <apex:includeScript value="{!$Resource.raphael}"/>
    <apex:includeScript value="{!$Resource.justgage}"/>
    
    <!--
			<apex:outputText value="Forecasting Type:"/>&nbsp;
			<apex:selectList value="{!selectedForecastingType}" multiSelect="false" size="1">
	     		<apex:actionSupport event="onchange" reRender="quotaTable,productFamilyOutputPanel" status="updatingStatus"/>
				<apex:selectOptions value="{!activeForecastingTypes}"/>
			</apex:selectList>&nbsp;
	-->
    
    <div id="one-app">
		<apex:form >
        <div id="forecastTypeSelector">
            <apex:selectList value="{!selectedForecastingType}" multiSelect="false" size="1">
                <apex:actionSupport event="onchange" reRender="one-carousel" status="updatingStatus"/>
                <apex:selectOptions value="{!activeForecastingTypes}"/>
            </apex:selectList>&nbsp;
            
        </div>
        </apex:form>
        
	    <div id="one-carousel">
            <apex:repeat value="{!attainments}" var="c" id="theRepeat">
                <div>
                    <div class="graph" id="{!c.category}">    
                    </div>
                    <article>
                        <header><h1>Opportunities in Best Case</h1>
                            <a href="javascript:void(0)" title="More" class="link-right">
                              <span class="link-label">More</span>
                              <span class="link-icon-right icon-utility-right"></span>
                            </a>
                        </header>
                        <section class="padded">
                        <div class="icon icon-right icon-float-right icon--opportunity"></div>
                                <h1 class="simple-bold">
                                    United Partners, Inc.
                                </h1>
                          <ul class="list-plain">
                            <li >$40,000</li>
                            <li >Enterprise Customer</li>
                          </ul>
                        </section>
                	</article>

                </div>
            </apex:repeat>
            
        </div>
    </div>

    <script>

        $(document).ready(function() {
            var graphs = [
    			<apex:repeat value="{!attainments}" var="c" id="theRepeat2">
                new JustGage({
                    id: "{!c.category}", 
                    value: {!c.amount}, //{!closedValue},
                    min: 0,
                    max: {!quotaValue},
                    label: "USD",
                    formatNumber: true,
                    levelColors: [ "#ff0000", "#f9c802", "#a9d70b" ],
                    title: "{!c.category}"
                }),
                </apex:repeat>
            ];
            
            
            
            
            var g1 = new JustGage({
                id: "g1", 
                value: 40000, //{!closedValue},
                min: 0,
                max: {!quotaValue},
                label: "USD",
                formatNumber: true,
                levelColors: [ "#ff0000", "#f9c802", "#a9d70b" ],
                title: "Revenue\nBest Case âž¤ Close"
                });

            var g2 = new JustGage({
                id: "g2", 
                value: 40000,
                min: 0,
                max: {!quotaValue},
                label: "USD",
                formatNumber: true,
                levelColors: [ "#ff0000", "#f9c802", "#a9d70b" ],
                title: "Attainment"
                });

            var s1 = $('div#one-app').oneStarter('app');
            s1.carousel($('div#one-carousel'));
        });
    
    </script>
</apex:page>